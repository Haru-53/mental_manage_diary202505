<!DOCTYPE html>
<html>
  <head>
    <title>mental_manage_diary„É°„É≥„Çø„É´ÁÆ°ÁêÜÊó•Ë®ò</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>

    <!-- Google Fonts: ËêΩ„Å°ÁùÄ„ÅÑ„Åü„Éï„Ç©„É≥„Éà -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
      body {
        font-family: 'Noto Sans JP', sans-serif;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background-color: #f8f9fa;
      }

      .site-header {
        background-color: #003366;
        color: white;
        padding: 10px 20px;
      }

      .site-header a,
      .site-header .btn {
        color: white;
        text-decoration: none;
        margin-right: 10px;
      }

      .site-header a:hover,
      .site-header .btn:hover {
        background-color: #002244;
        color: white;
      }

      .main-content-wrapper {
        flex: 1;
        padding-top: 80px;
        padding-bottom: 80px;
      }

      .content-container {
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0,0,0,0.1);
        padding: 30px;
        margin-bottom: 20px;
      }

      .site-footer {
        background-color: #003366;
        color: white;
        text-align: center;
        padding: 20px;
      }

      .footer-link {
        text-decoration: none;
        color: white;
        margin: 0 15px;
        display: inline-flex;
        align-items: center;
      }

      .footer-link:hover {
        color: #99ccff;
      }

      .hamburger-menu {
        position: relative;
        display: inline-block;
      }

      .hamburger-icon {
        cursor: pointer;
        font-size: 1.5rem;
        color: white;
      }

      .hamburger-menu .dropdown-menu {
        display: none;
        position: absolute;
        top: 30px;
        right: 0;
        background-color: white;
        min-width: 220px;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        border-radius: 5px;
        z-index: 1000;
        padding: 10px 0;
      }

      .hamburger-menu:hover .dropdown-menu {
        display: block;
      }

      .dropdown-menu ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .dropdown-menu li {
        margin: 0;
      }

      .dropdown-menu a {
        color: #333;
        text-decoration: none;
        display: block;
        padding: 10px 15px;
        font-size: 0.9rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .dropdown-menu a:hover {
        background-color: #f0f0f0;
      }

      .alert {
        margin-top: 20px;
      }
      <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
    </style>
  </head>

  <body>
    <!-- „Éò„ÉÉ„ÉÄ„Éº -->
    <header class="site-header">
      <div class="d-flex justify-content-between align-items-center">
        <div class="header-left">
          <% if current_page?(root_path) %>
            <!-- „Éà„ÉÉ„Éó„Éö„Éº„Ç∏„Åß„ÅØÊàª„Çã„Éú„Çø„É≥„Å®„Éõ„Éº„É†„Éú„Çø„É≥„ÇíÈùûË°®Á§∫ -->
          <% else %>
            <%= link_to "Êàª„Çã", "#", class: "btn btn-link", onclick: "history.back(); return false;" %>
            <%= link_to "„Éõ„Éº„É†", root_path, class: "btn btn-link" %>
          <% end %>
        </div>

        <div class="header-right d-flex align-items-center">
          <% if user_signed_in? %>
            <%= button_to "„É≠„Ç∞„Ç¢„Ç¶„Éà", destroy_user_session_path, method: :delete, class: "btn btn-outline-light btn-sm me-2" %>
          <% end %>

          <div class="hamburger-menu">
            <span class="hamburger-icon">‚ò∞</span>
            <div class="dropdown-menu">
              <ul>
                <li><%= link_to "üëÄ „Ç¢„Éó„É™„ÅÆ‰Ωø„ÅÑÊñπ", how_to_use_path %></li>
                <li><%= link_to "üìù Ë©¶„Åó„Å´‰Ωø„Å£„Å¶„Åø„Çã", trial_path %></li>
                <li><%= link_to "üìù Êñ∞Ë¶èÁôªÈå≤", new_user_registration_path %></li>
                <li><%= link_to "üìù „É≠„Ç∞„Ç§„É≥", new_user_session_path %></li>
                <li><%= link_to "üìù Êó•Ë®ò„ÇíÊõ∏„Åè", new_diary_entry_path %></li>
                <li><%= link_to "üìÖ „Ç´„É¨„É≥„ÉÄ„Éº", calendar_diary_entries_path %></li>
                <li><%= link_to "üìà „Ç∞„É©„Éï", graph_diary_entries_path %></li>
                <li><%= link_to "üíì Âπ∏Á¶èÂ∫¶ÂÆöÁæ©", happiness_definition_diary_entries_path %></li>
                <li><%= link_to "üìã Êó•Ë®òË¶ÅÁ¥Ñ", summary_diary_entries_path %></li>
                <li><%= link_to "üîç Êó•Ë®òÊ§úÁ¥¢", search_diary_entries_path %></li>
                <li><%= link_to "üì§ SNSÂÖ±Êúâ", "#" %></li>
                <li><%= link_to "‚öôÔ∏è Ë®≠ÂÆö", "#" %></li>
                <li><%= link_to "üé∑ „ÅäÁü•„Çâ„Åõ", announcements_path %></li>
                <li><%= link_to "üì© „ÅäÂïèÂêà„Åõ„ÉªË¶ÅÊúõ", contact_path %></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- „É°„Ç§„É≥ -->
    <div class="main-content-wrapper">
      <div class="container">
        <% if notice %>
          <div class="alert alert-success alert-dismissible fade show" role="alert">
            <%= notice %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        <% end %>

        <div class="content-container">
          <%= yield %>
        </div>
      </div>
    </div>

    <!-- „Éï„ÉÉ„Çø„Éº -->
    <footer class="site-footer">
      <div class="footer-container">
        <div class="footer-links mb-2">
          <%= link_to "üì© „ÅäÂïè„ÅÑÂêà„Çè„Åõ„Éª„ÅîË¶ÅÊúõ", contact_path, class: "footer-link" %>
          <%= link_to "üé∑ „ÅäÁü•„Çâ„Åõ", announcements_path, class: "footer-link" %>
        </div>
        <div class="footer-info">
          <p>ÊúÄÁµÇÊõ¥Êñ∞Êó•: <%= Date.today.strftime('%YÂπ¥%mÊúà%dÊó•') %></p>
          <p>author: haru</p>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
